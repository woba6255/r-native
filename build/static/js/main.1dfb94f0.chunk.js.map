{"version":3,"sources":["modules/router/RoterMap.jsx","config.js","modules/fetch/index.js","modules/fetch/api/posts.js","modules/fetch/ApiRouts.js","modules/fetch/api/metrics.js","components/table-editor/TableAliases.js","components/table-editor/TableReducer/TableReducer.js","components/table-editor/TableReducer/TableReducerContext.js","components/table-editor/TableCell.jsx","components/table-editor/ActionsMenu.jsx","components/table-editor/TableRow.jsx","components/table-editor/TableComponent.jsx","components/table-editor/index.jsx","modules/PostEditorTable.jsx","modules/nav-bar/NavBar.jsx","views/posts-editor.jsx","modules/metrics/TableSchema.js","modules/metrics/MetricsTable.jsx","modules/metrics/MetricsGraphic.jsx","modules/metrics/Metrics.jsx","components/page.jsx","views/metrics/index.jsx","views/index.jsx","modules/router/MainRouter.jsx","modules/router/MainRouterAliases.js","App.js","serviceWorker.js","index.js"],"names":["RouteWithSubRoutes","route","path","exact","render","props","component","routes","RenderRoutes","map","i","key","config","json","url","fetch","method","response","Error","data","body","JSON","stringify","headers","PostsManger","ftch","ID","API_URL_ROUTE_POSTS","newValue","id","postType","PropTypes","shape","string","date","commentsID","arrayOf","number","deleted","bool","author","title","postsType","MetricsManager","API_URL_ROUTE_METRICS","TABLE_ROW_STATUS_EDIT","TABLE_ROW_STATUS_CREATED","defaultValue","TableReducer","state","action","type","payload","stableStateChangeEmitter","Object","assign","index","findIndex","element","push","splice","toSave","schema","eventsMiddleware","onStableStateChange","AppContext","React","createContext","ProviderTableContext","children","useReducer","dispatch","Provider","value","useTableContext","useContext","TableCell","cellSchema","cellState","onCellChange","editing","role","styles","formater","eventToCellChange","e","target","RoleStatic","style","RoleInput","onChange","RoleTextArea","RoleDate","s","onChange1","RoleDefault","Table","TextCell","TextInput","width","Textarea","marginTop","marginBottom","minHeight","heigth","resize","selected","Date","parse","customInput","timeIntervals","timeFormat","showTimeSelect","DateInput","onClick","this","Component","editBtnWidth","maxWidth","ActionsMenu","menuItems","Popover","position","Position","BOTTOM_LEFT","content","Menu","Group","item","Item","MoreIcon","cursor","Row","rowID","rowStatus","setEditingRow","useState","getRowStateFromTableState","rowState","setRowState","find","row","MID","middlewareFunction","a","rowActions","status","onSaveNewRow","middlewareResponse","onDdleteNewRow","onDelete","onSave","icon","color","onSelect","on","filter","length","includes","height","newCellValue","newRowValue","Cell","DotIcon","TableCreator","editingRow","useEffect","tableActions","onRowCreate","startValue","editAfterCreate","Head","tableColumn","TextHeaderCell","header","Body","overflowY","Pane","display","alignItems","justifyContent","margin","Button","AddIcon","TableEditor","idWidth","PostEditorTable","posts","tableData","console","log","editOne","then","r","alert","deleteOneByID","createOne","Math","random","toString","substring","slice","idFormater","Intl","DateTimeFormat","year","month","day","hour","minute","hour12","format","dateFormater","NavBar","history","useHistory","elevation","padding","majorScale","appearance","intent","minorScale","ROUTE_INDEX","ROUTE_METRICS","ROUTE_POST_EDITOR","Page","setPosts","getAll","setMetrics","MetricsTable","minWidth","metrics","MetricsGraphic","ref","createRef","labels","temperature","Chart","current","getContext","datasets","label","options","Metrics","tableState","setTableState","PageBasic","borderLeft","paddingY","paddingX","marginX","MainRouter","App","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1dfb94f0.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { Route, Switch } from \"react-router\"\r\n\r\n\r\n\r\nfunction RouteWithSubRoutes(route) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\tpath={route.path}\r\n\t\t\texact={route.exact}\r\n\t\t\trender={props => <route.component {...props} routes={route.routes} />}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport function RenderRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, i) => {\r\n\t\t\t\treturn <RouteWithSubRoutes key={route.key} {...route} />;\r\n\t\t\t})}\r\n\t\t\t<Route component={() => <h1>404 Not Found!</h1>} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\n// export function displayRouteMenu(routes) {\r\n//\r\n// \treturn (\r\n// \t\t<ul>\r\n// \t\t\t{routes.map(route => {\r\n// \t\t\t\tif (route.routes) {\r\n// \t\t\t\t\treturn (\r\n// \t\t\t\t\t\t<Fragment key={route.key}>\r\n// \t\t\t\t\t\t\t{singleRoute(route)}\r\n// \t\t\t\t\t\t\t{displayRouteMenu(route.routes)}\r\n// \t\t\t\t\t\t</Fragment>\r\n// \t\t\t\t\t);\r\n// \t\t\t\t}\r\n//\r\n// \t\t\t\t// no nested routes, so just render a single route\r\n// \t\t\t\treturn singleRoute(route);\r\n// \t\t\t})}\r\n// \t\t</ul>\r\n// \t);\r\n// }\r\n","export const config = {\r\n\turl: 'http://localhost:4000',\r\n}\r\n","import { config } from \"../../config\"\r\n\r\n\r\nexport default {\r\n\tasync GET(path, json = true, url = config.url) {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url + path, {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t});\r\n\r\n\t\t\treturn json === true\r\n\t\t\t\t? await response.json()\r\n\t\t\t\t: response\r\n\t\t} catch (error) {\r\n\t\t\tthrow new Error(error)\r\n\t\t}\r\n\t},\r\n\tasync DELETE(path, json = true, url = config.url) {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url + path, {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t});\r\n\r\n\t\t\treturn json === true\r\n\t\t\t\t? await response.json()\r\n\t\t\t\t: response\r\n\t\t} catch (error) {\r\n\t\t\tthrow new Error(error)\r\n\t\t}\r\n\t},\r\n\tasync POST(path, data, json = true, url = config.url) {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url + path, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-type\": \"application/json; charset=UTF-8\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn json === true\r\n\t\t\t\t? await response.json()\r\n\t\t\t\t: response\r\n\t\t} catch (error) {\r\n\t\t\tthrow new Error(error)\r\n\t\t}\r\n\t},\r\n\tasync PUT(path, data, json = true, url = config.url) {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url + path, {\r\n\t\t\t\tmethod: 'PATCH',\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-type\": \"application/json; charset=UTF-8\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn json === true\r\n\t\t\t\t? await response.json()\r\n\t\t\t\t: response\r\n\t\t} catch (error) {\r\n\t\t\tthrow new Error(error)\r\n\t\t}\r\n\t}\r\n}\r\n","import ftch from '../index'\r\nimport PropTypes from \"prop-types\";\r\nimport { API_URL_ROUTE_POSTS } from \"~/modules/fetch/ApiRouts\"\r\n\r\nexport class PostsManger {\r\n\tstatic postType = PropTypes.shape({\r\n\t\tid: PropTypes.string,\r\n\t\tdate: PropTypes.string,\r\n\t\tcommentsID: PropTypes.arrayOf(PropTypes.number),\r\n\t\tdeleted: PropTypes.bool,\r\n\t\tauthor: PropTypes.string,\r\n\t\ttitle: PropTypes.string,\r\n\t\tbody: PropTypes.string,\r\n\t})\r\n\tstatic postsType = PropTypes.arrayOf(this.postType)\r\n\r\n\r\n\tstatic async getAll() {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.GET(API_URL_ROUTE_POSTS)\r\n\t}\r\n\r\n\tstatic async createOne(data) {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.POST(API_URL_ROUTE_POSTS, data)\r\n\t}\r\n\r\n\tstatic async deleteOneByID(ID) {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.DELETE(API_URL_ROUTE_POSTS + '/' + ID)\r\n\t}\r\n\r\n\tstatic async editOne(newValue, ID = newValue.id) {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.PUT(API_URL_ROUTE_POSTS + '/' + ID, newValue)\r\n\t}\r\n}\r\n\r\n// editPostByID({\r\n// \tdate: \"2016-01-10T07:24:52 -03:00\",\r\n// \ttitle: \"jenwjlrbewl\",\r\n// \tauthor: 'Leo Tolstoy'\r\n// }, '5ec4269bb1394f33dfa8dcc3').then(d => console.log(d))\r\n\r\n\r\n","export const API_URL_ROUTE_POSTS = '/posts'\r\nexport const API_URL_ROUTE_METRICS = '/metrics'\r\n","import ftch from \"~/modules/fetch\"\r\nimport { API_URL_ROUTE_METRICS } from \"~/modules/fetch/ApiRouts\"\r\n\r\n\r\nexport class MetricsManager {\r\n\tstatic async getAll() {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.GET(API_URL_ROUTE_METRICS)\r\n\t}\r\n\r\n\tstatic async createOne(data) {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.POST(API_URL_ROUTE_METRICS, data)\r\n\t}\r\n\r\n\tstatic async deleteOneByID(ID) {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.DELETE(API_URL_ROUTE_METRICS + '/' + ID)\r\n\t}\r\n\r\n\tstatic async editOne(newValue, ID = newValue.id) {\r\n\t\t// TODO validate\r\n\t\treturn await ftch.PUT(API_URL_ROUTE_METRICS + '/' + ID, newValue)\r\n\t}\r\n}\r\n","export const TABLE_CELL_ROLE_ID = 'ID'\r\nexport const TABLE_CELL_ROLE_STATIC = 'STATIC'\r\nexport const TABLE_CELL_ROLE_INPUT = 'INPUT'\r\nexport const TABLE_CELL_ROLE_TEXT_AREA = 'TEXT_AREA'\r\nexport const TABLE_CELL_ROLE_DATE = 'DATE'\r\n\r\n\r\n\r\nexport const TABLE_ROW_STATUS_EDIT = 'EDIT'\r\nexport const TABLE_ROW_STATUS_CREATED = 'CREATED'\r\nexport const TABLE_ROW_STATUS_STATIC = 'STATIC'\r\nexport const TABLE_ROW_STATUS_STATIC_DISABLED = 'STATIC_DISABLED'\r\n\r\n\r\n\r\nexport const TABLE_REDUCER_UPDATE = 'UPDATE'\r\nexport const TABLE_REDUCER_SAVE_ROW = 'SAVE_ROW'\r\nexport const TABLE_REDUCER_CREATE_ROW = 'CREATE_ROW'\r\nexport const TABLE_REDUCER_DELETE_ROW = 'DELETE_ROW'\r\nexport const TABLE_REDUCER_DELETE_CREATE_ROW = 'DELETE_CREATE_ROW'\r\n","import {\r\n\tTABLE_REDUCER_CREATE_ROW, TABLE_REDUCER_DELETE_CREATE_ROW,\r\n\tTABLE_REDUCER_DELETE_ROW,\r\n\tTABLE_REDUCER_SAVE_ROW,\r\n\tTABLE_REDUCER_UPDATE\r\n} from \"../TableAliases\"\r\n\r\n\r\nconst defaultValue = {}\r\n\r\n\r\nconst TableReducer = (state, action) => {\r\n\tconst type = action.type || TABLE_REDUCER_UPDATE\r\n\tconst payload = action.payload || action\r\n\tswitch (type) {\r\n\t\tcase TABLE_REDUCER_UPDATE: {\r\n\t\t\treturn stableStateChangeEmitter({\r\n\t\t\t\t...state,\r\n\t\t\t\t...payload\r\n\t\t\t})\r\n\t\t}\r\n\t\tcase TABLE_REDUCER_SAVE_ROW: {\r\n\t\t\tconst { id } = payload\r\n\t\t\tconst data = Object.assign([], state.data)\r\n\t\t\tconst index = data.findIndex((element) => {\r\n\t\t\t\treturn element.id === id\r\n\t\t\t})\r\n\t\t\tdata[index] = Object.assign({}, data[index], action.payload)\r\n\t\t\treturn stableStateChangeEmitter({\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data,\r\n\t\t\t})\r\n\t\t}\r\n\t\tcase TABLE_REDUCER_CREATE_ROW: {\r\n\t\t\tconst data = Object.assign([], state.data)\r\n\t\t\tdata.push(payload)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TABLE_REDUCER_DELETE_ROW: {\r\n\t\t\tconst data = Object.assign([], state.data)\r\n\t\t\tconst index = data.findIndex((element) => {\r\n\t\t\t\treturn element.id === payload\r\n\t\t\t})\r\n\t\t\tdata.splice(index, 1)\r\n\r\n\t\t\treturn stableStateChangeEmitter({\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data,\r\n\t\t\t})\r\n\t\t}\r\n\t\tcase TABLE_REDUCER_DELETE_CREATE_ROW: {\r\n\t\t\tconst data = Object.assign([], state.data)\r\n\t\t\tconst index = data.findIndex((element) => {\r\n\t\t\t\treturn element.id === payload\r\n\t\t\t})\r\n\t\t\tdata.splice(index, 1)\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data,\r\n\t\t\t}\r\n\t\t}\r\n\t\t// case 'age':\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tname: action.payload,\r\n\t\t// \t}\r\n\t\t// case 'anyobject': return {\r\n\t\t// \t...state,\r\n\t\t// \tanyobject: {\r\n\t\t// \t\t...state.anyobject,\r\n\t\t// \t\t...action.payload\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\r\n\r\n\t\tfunction stableStateChangeEmitter(toSave) {\r\n\t\t\tif (state.schema && state.schema.eventsMiddleware.onStableStateChange) state.schema.eventsMiddleware.onStableStateChange(toSave.data)\r\n\t\t\treturn toSave\r\n\t\t}\r\n\t}\r\n}\r\nexport {\r\n\tdefaultValue,\r\n\tTableReducer,\r\n}\r\n\r\n","import React from 'react'\r\nimport { TableReducer, defaultValue } from './TableReducer'\r\n\r\nconst AppContext = React.createContext()\r\n\r\nfunction ProviderTableContext({ children }) {\r\n\tconst [state, dispatch] = React.useReducer(TableReducer, defaultValue)\r\n\treturn <AppContext.Provider value={{ state, dispatch }}>{children}</AppContext.Provider>\r\n}\r\n\r\n\r\nconst useTableContext = () => React.useContext(AppContext)\r\n\r\nexport {\r\n\tProviderTableContext,\r\n\tuseTableContext,\r\n}\r\n","import React from \"react\"\r\nimport { Table, Textarea, TextInput } from \"evergreen-ui\"\r\nimport DatePicker from \"react-datepicker\"\r\nimport {\r\n\tTABLE_CELL_ROLE_DATE,\r\n\tTABLE_CELL_ROLE_ID,\r\n\tTABLE_CELL_ROLE_INPUT,\r\n\tTABLE_CELL_ROLE_STATIC,\r\n\tTABLE_CELL_ROLE_TEXT_AREA\r\n} from \"./TableAliases\"\r\n\r\n\r\nexport function TableCell({ cellSchema, cellState = '', onCellChange, editing }) {\r\n\tconst { role, styles, formater } = cellSchema\r\n\tconst value =\r\n\t\tformater\r\n\t\t\t? formater(cellState)\r\n\t\t\t: cellState\r\n\r\n\tfunction eventToCellChange(e) {\r\n\t\tonCellChange(e.target.value)\r\n\t}\r\n\r\n\tswitch (role) {\r\n\t\tcase TABLE_CELL_ROLE_ID:\r\n\t\tcase TABLE_CELL_ROLE_STATIC:\r\n\t\t\treturn <RoleStatic style={styles} value={value}/>\r\n\t\tcase TABLE_CELL_ROLE_INPUT:\r\n\t\t\treturn <RoleInput style={styles} editing={editing} onChange={e => eventToCellChange(e)} value={value}/>\r\n\t\tcase TABLE_CELL_ROLE_TEXT_AREA:\r\n\t\t\treturn <RoleTextArea style={styles} editing={editing} onChange={e => eventToCellChange(e)} value={value}/>\r\n\t\tcase TABLE_CELL_ROLE_DATE:\r\n\t\t\treturn <RoleDate style={styles} editing={editing} s={cellState} onChange={(date) => onCellChange(date)}\r\n\t\t\t                 date={value} onChange1={e => eventToCellChange(e)}/>\r\n\t\tdefault:\r\n\t\t\treturn <RoleDefault style={styles}/>\r\n\t}\r\n}\r\n\r\n\r\nfunction RoleInput(props) {\r\n\treturn <Table.TextCell\r\n\t\tstyle={props.style}\r\n\t>\r\n\t\t{\r\n\t\t\tprops.editing === true\r\n\t\t\t\t? (\r\n\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\tonChange={props.onChange}\r\n\t\t\t\t\t\tvalue={props.value}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t\t: props.value\r\n\t\t}\r\n\t</Table.TextCell>\r\n}\r\n\r\nfunction RoleTextArea(props) {\r\n\treturn <Table.TextCell\r\n\t\tstyle={props.style}\r\n\t>\r\n\t\t{\r\n\t\t\tprops.editing === true\r\n\t\t\t\t? (\r\n\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\tstyle={{ marginTop: \"10px\", marginBottom: \"10px\" }}\r\n\t\t\t\t\t\tminHeight=\"auto\"\r\n\t\t\t\t\t\theigth=\"10px\"\r\n\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\tresize=\"vertical\"\r\n\t\t\t\t\t\tonChange={props.onChange}\r\n\t\t\t\t\t\tvalue={props.value}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t\t: props.value\r\n\t\t}\r\n\r\n\t</Table.TextCell>\r\n}\r\n\r\nfunction RoleDefault(props) {\r\n\treturn <Table.TextCell\r\n\t\tstyle={props.style}\r\n\t>\r\n\t\tNot found(\r\n\t</Table.TextCell>\r\n}\r\n\r\n\r\nfunction RoleStatic(props) {\r\n\treturn <Table.TextCell\r\n\t\tstyle={props.style}\r\n\t>\r\n\t\t{\r\n\t\t\tprops.value\r\n\t\t}\r\n\t</Table.TextCell>\r\n}\r\n\r\n\r\nfunction RoleDate(props) {\r\n\treturn <Table.TextCell\r\n\t\tstyle={props.style}\r\n\t>\r\n\t\t{\r\n\t\t\tprops.editing === true\r\n\t\t\t\t? (\r\n\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\tselected={Date.parse(props.s)}\r\n\t\t\t\t\t\tonChange={props.onChange}\r\n\t\t\t\t\t\tcustomInput={<DateInput date={props.date} onChange={props.onChange1}/>}\r\n\t\t\t\t\t\ttimeIntervals={1}\r\n\t\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t\t: props.date\r\n\t\t}\r\n\r\n\t</Table.TextCell>\r\n}\r\n\r\n\r\n\r\nclass DateInput extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<TextInput\r\n\t\t\t\tonClick={this.props.onClick}\r\n\t\t\t\tonChange={(e) => this.props.onChange(e)}\r\n\t\t\t\tvalue={this.props.date}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n// class DateInput({ date, onClick, onChange }) {\r\n// \treturn (\r\n//\r\n// \t)\r\n// }\r\n\r\n","import { Menu, MoreIcon, Popover, Position } from \"evergreen-ui\"\r\nimport React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nActionsMenu.propTypes = {\r\n\tmenuItems: PropTypes.array.isRequired\r\n}\r\n\r\nexport const editBtnWidth = { maxWidth: '4rem' }\r\n\r\nexport function ActionsMenu({ menuItems }) {\r\n\t// TODO: refactor\r\n\treturn <Popover\r\n\t\tposition={Position.BOTTOM_LEFT}\r\n\t\t// isShown={showMenu}\r\n\t\tcontent={\r\n\t\t\t<Menu>\r\n\t\t\t\t<Menu.Group>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// TODO: Refactor ActionsMenu\r\n\t\t\t\t\t\tmenuItems.map(item =>\r\n\t\t\t\t\t\t\t<Menu.Item {...item} key={item.title}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\titem.title\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Menu.Group>\r\n\t\t\t</Menu>\r\n\t\t}\r\n\t>\r\n\t\t<MoreIcon\r\n\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t// onClick={setShowMenu(true)}\r\n\t\t/>\r\n\t</Popover>\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { DotIcon, Table } from \"evergreen-ui\"\r\nimport { useTableContext } from \"./TableReducer\"\r\nimport { TableCell } from \"./TableCell\"\r\nimport { ActionsMenu, editBtnWidth } from \"./ActionsMenu\"\r\nimport {\r\n\tTABLE_ROW_STATUS_CREATED,\r\n\tTABLE_ROW_STATUS_EDIT,\r\n\tTABLE_ROW_STATUS_STATIC, TABLE_ROW_STATUS_STATIC_DISABLED,\r\n\tTABLE_REDUCER_DELETE_ROW, TABLE_REDUCER_SAVE_ROW, TABLE_REDUCER_DELETE_CREATE_ROW\r\n} from \"./TableAliases\"\r\n\r\nexport function Row({ rowID, schema, rowStatus, setEditingRow }) {\r\n\tconst { state, dispatch } = useTableContext()\r\n\tconst { eventsMiddleware } = state.schema\r\n\tconst [rowState, setRowState] = useState(getRowStateFromTableState())\r\n\r\n\tfunction getRowStateFromTableState() {\r\n\t\treturn state.data.find(row => row.id === rowID)\r\n\t}\r\n\r\n\tasync function MID(middlewareFunction, value) {\r\n\t\tif (middlewareFunction) return await middlewareFunction(value)\r\n\t\telse return value\r\n\t}\r\n\r\n\r\n\tconst rowActions = {\r\n\t\tback() {\r\n\t\t\tsetRowState(getRowStateFromTableState())\r\n\t\t\tsetEditingRow(null)\r\n\t\t},\r\n\t\tedit() {\r\n\t\t\tsetEditingRow({ id: rowID, status: TABLE_ROW_STATUS_EDIT })\r\n\t\t},\r\n\t\tcancel() {\r\n\t\t\tsetEditingRow(null)\r\n\t\t},\r\n\t\tasync saveNewRow() {\r\n\t\t\tsetEditingRow(null)\r\n\t\t\tconst middlewareResponse = await MID(eventsMiddleware.onSaveNewRow, rowState)\r\n\t\t\tdispatch({ type: TABLE_REDUCER_SAVE_ROW, payload: middlewareResponse })\r\n\t\t},\r\n\t\tasync deleteNewRow() {\r\n\t\t\tconst middlewareResponse = await MID(eventsMiddleware.onDdleteNewRow, rowState.id)\r\n\t\t\tif (rowStatus !== TABLE_ROW_STATUS_STATIC) setEditingRow(null)\r\n\t\t\tdispatch({ type: TABLE_REDUCER_DELETE_CREATE_ROW, payload: middlewareResponse })\r\n\t\t},\r\n\t\tasync delete() {\r\n\t\t\tconst middlewareResponse = await MID(eventsMiddleware.onDelete, rowState.id)\r\n\t\t\tif (rowStatus !== TABLE_ROW_STATUS_STATIC) setEditingRow(null)\r\n\t\t\tdispatch({ type: TABLE_REDUCER_DELETE_ROW, payload: middlewareResponse })\r\n\t\t},\r\n\t\tasync save() {\r\n\t\t\tsetEditingRow(null)\r\n\t\t\tconst middlewareResponse = await MID(eventsMiddleware.onSave, rowState)\r\n\t\t\tdispatch({ type: TABLE_REDUCER_SAVE_ROW, payload: middlewareResponse })\r\n\t\t},\r\n\t}\r\n\r\n\r\n\tconst menuItemsMap = [\r\n\t\t{\r\n\t\t\ticon: \"edit\", title: 'Edit',\r\n\t\t\tcolor: \"muted\", style: { cursor: \"pointer\" },\r\n\t\t\tonSelect: () => rowActions.edit(),\r\n\t\t\ton: [TABLE_ROW_STATUS_STATIC]\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: \"tick-circle\", title: 'Save',\r\n\t\t\tonSelect: () => rowActions.save(),\r\n\t\t\ton: [TABLE_ROW_STATUS_EDIT]\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: \"tick-circle\", title: 'Create',\r\n\t\t\tonSelect: () => rowActions.saveNewRow(),\r\n\t\t\ton: [TABLE_ROW_STATUS_CREATED]\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: \"cross\", title: 'Cancel',\r\n\t\t\tonSelect: () => rowActions.cancel(),\r\n\t\t\ton: [TABLE_ROW_STATUS_EDIT]\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: \"arrow-left\", title: 'Return',\r\n\t\t\tonSelect: () => rowActions.back(),\r\n\t\t\ton: [TABLE_ROW_STATUS_EDIT]\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: \"trash\", title: 'Delete',\r\n\t\t\tonSelect: () => rowActions.delete(),\r\n\t\t\ton: [TABLE_ROW_STATUS_EDIT, TABLE_ROW_STATUS_STATIC]\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: \"trash\", title: 'Delete',\r\n\t\t\tonSelect: () => rowActions.deleteNewRow(),\r\n\t\t\ton: [TABLE_ROW_STATUS_CREATED]\r\n\t\t},\r\n\t]\r\n\r\n\tconst menuItems = menuItemsMap.filter((item) => item.on.length === 0 || item.on.includes(rowStatus))\r\n\r\n\treturn (\r\n\t\t<Table.Row height={'auto'} style={{ minHeight: '45px' }}>\r\n\t\t\t{\r\n\t\t\t\tschema.body.map(cellSchema => {\r\n\t\t\t\t\tconst { key } = cellSchema\r\n\t\t\t\t\tconst cellState = rowState[key]\r\n\t\t\t\t\tconst editing = [TABLE_ROW_STATUS_EDIT, TABLE_ROW_STATUS_CREATED].includes(rowStatus)\r\n\r\n\t\t\t\t\tfunction onCellChange(newCellValue) {\r\n\t\t\t\t\t\tconst newRowValue = Object.assign({}, rowState)\r\n\t\t\t\t\t\tnewRowValue[key] = newCellValue\r\n\t\t\t\t\t\tsetRowState(newRowValue)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TableCell key={key} cellState={cellState} onCellChange={onCellChange} cellSchema={cellSchema}\r\n\t\t\t\t\t\t           editing={editing}/>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t<Table.Cell style={editBtnWidth}>\r\n\t\t\t\t{\r\n\t\t\t\t\t(rowStatus === TABLE_ROW_STATUS_STATIC_DISABLED)\r\n\t\t\t\t\t\t? <DotIcon />\r\n\t\t\t\t\t\t: <ActionsMenu menuItems={menuItems}/>\r\n\t\t\t\t}\r\n\t\t\t</Table.Cell>\r\n\t\t</Table.Row>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { AddIcon, Button, Pane, Table, } from \"evergreen-ui\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useTableContext } from \"./TableReducer\"\r\nimport { Row } from \"./TableRow\"\r\nimport { editBtnWidth } from \"./ActionsMenu\"\r\nimport {\r\n\tTABLE_ROW_STATUS_CREATED,\r\n\tTABLE_ROW_STATUS_STATIC,\r\n\tTABLE_ROW_STATUS_STATIC_DISABLED, TABLE_REDUCER_CREATE_ROW\r\n} from \"./TableAliases\"\r\n\r\n\r\nexport function TableCreator({ data, schema }) {\r\n\t// TODO: validate all table-editor\r\n\tconst [editingRow, setEditingRow] = useState(null)\r\n\tconst { state, dispatch } = useTableContext()\r\n\tconst { eventsMiddleware } = schema\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({ schema, data })\r\n\t}, [])\r\n\r\n\t// Emit on row lvl\r\n\tconst tableActions = {\r\n\t\tasync createRow() {\r\n\t\t\tconst [startValue, editAfterCreate] = eventsMiddleware.onRowCreate()\r\n\t\t\tif (startValue && startValue.id && editAfterCreate) setEditingRow({\r\n\t\t\t\tid: startValue.id,\r\n\t\t\t\tstatus: TABLE_ROW_STATUS_CREATED\r\n\t\t\t})\r\n\t\t\tdispatch({ type: TABLE_REDUCER_CREATE_ROW, payload: startValue })\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\tstate.data\r\n\t\t\t? <div>\r\n\t\t\t\t<Table>\r\n\t\t\t\t\t<Table.Head>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tschema.body.map((tableColumn, i) => (\r\n\t\t\t\t\t\t\t\t<Table.TextHeaderCell\r\n\t\t\t\t\t\t\t\t\tstyle={tableColumn.styles}\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttableColumn.header\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Table.TextHeaderCell>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Table.TextHeaderCell\r\n\t\t\t\t\t\t\tstyle={editBtnWidth}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</Table.TextHeaderCell>\r\n\t\t\t\t\t</Table.Head>\r\n\t\t\t\t\t<Table.Body style={{ overflowY: 'scroll' }}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstate.data && state.data.map(row => {\r\n\t\t\t\t\t\t\t\tconst rowStatus = (editingRow && row.id === editingRow.id)\r\n\t\t\t\t\t\t\t\t\t? editingRow.status\r\n\t\t\t\t\t\t\t\t\t: (editingRow === null)\r\n\t\t\t\t\t\t\t\t\t\t? TABLE_ROW_STATUS_STATIC\r\n\t\t\t\t\t\t\t\t\t\t: TABLE_ROW_STATUS_STATIC_DISABLED\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Row key={row.id} rowID={row.id} schema={schema} rowStatus={rowStatus}\r\n\t\t\t\t\t\t\t\t\t     setEditingRow={setEditingRow}/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Table.Body>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Pane\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\tmargin=\"7px\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teditingRow === null\r\n\t\t\t\t\t\t&& <Button onClick={() => tableActions.createRow()}><AddIcon/></Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Pane>\r\n\t\t\t</div>\r\n\t\t\t: <p>No data...</p>\r\n\t)\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { ProviderTableContext } from \"./TableReducer\"\r\nimport { TableCreator } from \"./TableComponent\"\r\nexport * from './TableAliases'\r\n\r\nexport function TableEditor(props) {\r\n\treturn (\r\n\t\t<ProviderTableContext>\r\n\t\t\t<TableCreator {...props} />\r\n\t\t</ProviderTableContext>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\";\r\nimport { PostsManger } from \"~/modules/fetch/api\"\r\nimport { TableEditor } from \"~/components/table-editor\"\r\nimport {\r\n\tTABLE_CELL_ROLE_DATE,\r\n\tTABLE_CELL_ROLE_ID,\r\n\tTABLE_CELL_ROLE_INPUT,\r\n} from \"~/components/table-editor/TableAliases\"\r\n\r\nPostEditorTable.propTypes = {\r\n\tposts: PostsManger.postsType,\r\n\teditPost: PropTypes.func,\r\n}\r\n\r\nconst idWidth = { maxWidth: '5rem' }\r\n\r\nexport function PostEditorTable({ posts }) {\r\n\r\n\tconst eventsMiddleware = {\r\n\t\tonStableStateChange(tableData) {\r\n\t\t\tconsole.log(tableData)\r\n\t\t},\r\n\t\tonSave: (data) => {\r\n\t\t\tPostsManger.editOne(data).then(r => alert('Saved!'))\r\n\t\t\treturn data\r\n\t\t},\r\n\t\tonDelete: (ID) => {\r\n\t\t\tPostsManger.deleteOneByID(ID).then(r => alert('DELETED!'))\r\n\t\t\treturn ID\r\n\t\t},\r\n\t\tonSaveNewRow: (data) => {\r\n\t\t\tPostsManger.createOne(data).then(r => alert('Saved!'))\r\n\t\t\treturn data\r\n\t\t},\r\n\t\tonRowCreate: () => [{\r\n\t\t\tid: Math.random().toString(36).substring(7),\r\n\t\t\tdate: new Date(),\r\n\t\t}, true],\r\n\t}\r\n\treturn (\r\n\t\t<TableEditor\r\n\t\t\tdata={posts}\r\n\t\t\tschema={{\r\n\t\t\t\teventsMiddleware,\r\n\t\t\t\tbody: [\r\n\t\t\t\t\t{ header: '#', styles: idWidth, key: 'id', role: TABLE_CELL_ROLE_ID, formater: (id) => idFormater(id) },\r\n\t\t\t\t\t{ header: 'Date', key: 'date', role: TABLE_CELL_ROLE_DATE, formater: (date) => dateFormater(date) },\r\n\t\t\t\t\t{ header: 'Author', key: 'author', role: TABLE_CELL_ROLE_INPUT },\r\n\t\t\t\t\t{ header: 'Title', key: 'title', role: TABLE_CELL_ROLE_INPUT },\r\n\t\t\t\t],\r\n\t\t\t}}/>\r\n\t)\r\n}\r\n\r\nfunction dateFormater(date) {\r\n\tif (date) {\r\n\t\treturn new Intl.DateTimeFormat('ru', {\r\n\t\t\tyear: 'numeric', month: 'numeric', day: 'numeric',\r\n\t\t\thour: 'numeric', minute: 'numeric',\r\n\t\t\thour12: false\r\n\t\t})\r\n\t\t\t.format(Date.parse(date))\r\n\t} else {\r\n\t\treturn 'No Date detected'\r\n\t}\r\n\r\n}\r\n\r\nfunction idFormater(id) {\r\n\treturn id.length > 6 ? '...' + id.slice(id.length - 6) : id\r\n}\r\n","import React from \"react\"\r\nimport { Button, majorScale, minorScale, Pane } from \"evergreen-ui\"\r\nimport { useHistory } from \"react-router\"\r\nimport { ROUTE_INDEX, ROUTE_METRICS, ROUTE_POST_EDITOR } from \"~/modules/router\"\r\n\r\n\r\nexport function NavBar() {\r\n\tconst history = useHistory()\r\n\treturn (\r\n\t\t<Pane marginBottom={10} elevation={2} padding={12}>\r\n\t\t\t<Button height={majorScale(5)} appearance=\"minimal\" intent=\"warning\" margin={minorScale(1)} onClick={() => history.push(ROUTE_INDEX)}>Home</Button>\r\n\t\t\t<Button height={majorScale(5)} appearance=\"minimal\" intent=\"warning\" margin={minorScale(1)} onClick={() => history.push(ROUTE_METRICS)}>METRICS</Button>\r\n\t\t\t<Button height={majorScale(5)} appearance=\"minimal\" intent=\"warning\" margin={minorScale(1)} onClick={() => history.push(ROUTE_POST_EDITOR)}>Posts</Button>\r\n\t\t</Pane>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { Button } from \"evergreen-ui\"\r\nimport { useHistory } from \"react-router\"\r\nimport { PostsManger } from \"~/modules/fetch/api\"\r\nimport { PostEditorTable } from \"~/modules/PostEditorTable\"\r\nimport { ROUTE_INDEX, ROUTE_POST_EDITOR } from \"~/modules/router\"\r\nimport { NavBar } from \"~/modules/nav-bar/NavBar\"\r\n\r\nexport function routerPostEditor (){\r\n\treturn { path: ROUTE_POST_EDITOR, key: \"PE\", exact: true, component: Page }\r\n}\r\n\r\nfunction Page () {\r\n\tconst [posts, setPosts] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (posts.length === 0) {\r\n\t\t\tPostsManger.getAll().then(data => setPosts(data))\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavBar />\r\n\t\t\t{\r\n\t\t\t\tposts.length\r\n\t\t\t\t\t? <PostEditorTable posts={posts}/>\r\n\t\t\t\t\t: <p>Waiting...</p>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}\r\n","import { MetricsManager } from \"~/modules/fetch/api\"\r\nimport { TABLE_CELL_ROLE_DATE, TABLE_CELL_ROLE_INPUT } from \"~/components/table-editor/TableAliases\"\r\n\r\n\r\n\r\nconst width = { maxWidth: '5rem' }\r\n\r\nexport function schema ({ setMetrics }){\r\n\treturn {\r\n\t\teventsMiddleware: {\r\n\t\t\tonStableStateChange(tableData) {\r\n\t\t\t\tsetMetrics(tableData)\r\n\t\t\t},\r\n\t\t\tonSave: (data) => {\r\n\t\t\t\tMetricsManager.editOne(data).then(r => console.log('Saved!'))\r\n\t\t\t\treturn data\r\n\t\t\t},\r\n\t\t\t\tonDelete: (ID) => {\r\n\t\t\t\tMetricsManager.deleteOneByID(ID).then(r => console.log('DELETED!'))\r\n\t\t\t\treturn ID\r\n\t\t\t},\r\n\t\t\t\tonSaveNewRow: (data) => {\r\n\t\t\t\tMetricsManager.createOne(data).then(r => console.log('Saved!'))\r\n\t\t\t\treturn data\r\n\t\t\t},\r\n\t\t\t\tonRowCreate: () => [{\r\n\t\t\t\tid: Math.random().toString(36).substring(7),\r\n\t\t\t\tdate: new Date(),\r\n\t\t\t}, true],\r\n\t\t},\r\n\t\tbody: [\r\n\t\t\t// { header: '#', styles: idWidth, key: 'id', role: TABLE_CELL_ROLE_ID },\r\n\t\t\t{ header: 'Date', key: 'date', role: TABLE_CELL_ROLE_DATE, formater: (date) => dateFormater(date) },\r\n\t\t\t{ header: '°С', styles: width, key: 'temperature', role: TABLE_CELL_ROLE_INPUT },\r\n\t\t],\r\n\t}\r\n}\r\n\r\nfunction dateFormater(date) {\r\n\tif (date) {\r\n\t\treturn new Intl.DateTimeFormat('ru', {\r\n\t\t\tyear: 'numeric', month: 'numeric', day: 'numeric',\r\n\t\t\thour: 'numeric', minute: 'numeric',\r\n\t\t\thour12: false\r\n\t\t})\r\n\t\t\t.format(Date.parse(date))\r\n\t} else {\r\n\t\treturn 'No Date detected'\r\n\t}\r\n\r\n}\r\n","import React from \"react\"\r\nimport { TableEditor } from \"~/components/table-editor\"\r\nimport { schema } from \"~/modules/metrics/TableSchema\"\r\n\r\n\r\n\r\nexport function MetricsTable(props) {\r\n\r\n\treturn (\r\n\t\t<div style={{minWidth: '500px'}}>\r\n\t\t\t{\r\n\t\t\t\tprops.metrics.length\r\n\t\t\t\t\t? <TableEditor\r\n\t\t\t\t\t\tdata={props.metrics}\r\n\t\t\t\t\t\tschema={schema(props)}/>\r\n\t\t\t\t\t: <p>Waiting...</p>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { createRef, useEffect } from \"react\"\r\nimport Chart from 'chart.js'\r\n\r\n\r\nexport function MetricsGraphic({metrics}) {\r\n\tconst ref = createRef()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst labels = metrics.map((e) => e.date)\r\n\t\tconst data = metrics.map((e) => e.temperature)\r\n\t\tconst chart = new Chart(ref.current.getContext('2d'), {\r\n\t\t\ttype: \"line\",\r\n\t\t\tdata: {\r\n\t\t\t\tlabels: labels,\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: \"Temperature\",\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\toptions: {}\r\n\t\t})\r\n\t}, [metrics])\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{width: '50rem', position: 'relative',}}>\r\n\t\t\t<canvas id=\"myChart\" ref={ref}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { MetricsTable } from \"~/modules/metrics/MetricsTable\"\r\nimport { MetricsManager } from \"~/modules/fetch/api\"\r\nimport { MetricsGraphic } from \"~/modules/metrics/MetricsGraphic\"\r\nimport { Pane } from \"evergreen-ui\"\r\n\r\n\r\nexport function Metrics() {\r\n\tconst [metrics, setMetrics] = useState([])\r\n\tconst [tableState, setTableState] = useState(metrics)\r\n\tuseEffect(() => {\r\n\t\tMetricsManager.getAll().then(data => {\r\n\t\t\tsetMetrics(data)\r\n\t\t\tsetTableState(data)\r\n\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Pane style={{display: 'inline-flex'}}>\r\n\t\t\t<MetricsTable metrics={tableState} setMetrics={setMetrics}/>\r\n\t\t\t<MetricsGraphic metrics={metrics} setMetrics={setMetrics}/>\r\n\t\t</Pane>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport { Pane } from \"evergreen-ui\"\r\n\r\nexport function PageBasic({ children }) {\r\n\treturn (\r\n\t\t<Pane elevation={1} borderLeft='5px solid #dae4fc' style={{}} paddingY={'1rem'} paddingX={'1rem'} marginX={'1rem'}>\r\n\t\t\t{children}\r\n\t\t</Pane>\r\n\t)\r\n\r\n}\r\n","import React from \"react\"\r\nimport { ROUTE_METRICS } from \"~/modules/router\"\r\nimport { Metrics } from \"~/modules/metrics/Metrics\"\r\nimport { NavBar } from \"~/modules/nav-bar/NavBar\"\r\nimport { PageBasic } from \"~/components/page\"\r\n\r\nexport function IndexViewGraphTable() {\r\n\treturn [\r\n\t\t{ path: ROUTE_METRICS, key: \"Index\", exact: true, component: Page },\r\n\t\t// routerGraph(),\r\n\t]\r\n}\r\n\r\nfunction Page() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavBar/>\r\n\t\t\t<PageBasic>\r\n\t\t\t\t<Metrics/>\r\n\t\t\t</PageBasic>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport { Button } from \"evergreen-ui\"\r\nimport { useHistory } from \"react-router\"\r\nimport { routerPostEditor } from \"~/views/posts-editor\"\r\nimport { ROUTE_INDEX, ROUTE_METRICS, ROUTE_POST_EDITOR, RenderRoutes } from \"~/modules/router\"\r\nimport { IndexViewGraphTable } from \"~/views/metrics\"\r\nimport { NavBar } from \"~/modules/nav-bar/NavBar\"\r\nimport { PageBasic } from \"~/components/page\"\r\n\r\n\r\nexport function routerIndex() {\r\n\treturn [\r\n\t\t{ path: ROUTE_INDEX, key: \"ROOT\", exact: true, component: Page },\r\n\t\trouterPostEditor(),\r\n\t\t{ path: ROUTE_METRICS, key: \"GT\", component: RenderRoutes, routes: IndexViewGraphTable() },\r\n\t]\r\n}\r\n\r\nfunction Page() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavBar />\r\n\t\t\t<PageBasic>\r\n\t\t\t\t<p>Home!!!</p>\r\n\t\t\t</PageBasic>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport { HashRouter } from \"react-router-dom\"\r\nimport { RenderRoutes } from \"~/modules/router/RoterMap\"\r\nimport { routerIndex } from \"~/views\"\r\n\r\nexport function MainRouter({ children }) {\r\n\treturn (\r\n\t\t<HashRouter>\r\n\t\t\t<RenderRoutes routes={routerIndex()} />\r\n\t\t\t{children}\r\n\t\t</HashRouter>\r\n\t)\r\n}\r\n","export const ROUTE_INDEX = '/'\r\nexport const ROUTE_POST_EDITOR = '/post-editor'\r\nexport const ROUTE_METRICS = '/metrics'\r\nexport const ROUTE_CREATE_GRAPH_FROM_METRICS = ROUTE_METRICS + '/graph'\r\n","import React from 'react'\r\nimport { MainRouter } from \"~/modules/router\"\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<MainRouter>\r\n\r\n\t\t</MainRouter>\r\n\t)\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}